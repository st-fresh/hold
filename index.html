<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Hyperapp</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" type="text/css" href="styles.css" />

    <script type="module">
import { h, text, app } from "https://unpkg.com/hyperapp"

/// Utils

const pad = (n) => (n < 10 ? "0" + n : n)

const humanizeTime = (t) => {
  const hours = (t / 3600) >> 0
  const minutes = ((t - hours * 3600) / 60) >> 0
  const seconds = (t - hours * 3600 - minutes * 60) >> 0
  console.log("hours", hours);
  console.log("minutes", minutes);
  console.log("seconds", seconds);
  return `${pad(hours)}:${pad(minutes)}:${pad(seconds)}`
}

/// Time Fx

const interval = (dispatch, props) => {
  const id = setInterval(() => dispatch(props.action, Date.now()), props.delay)
  return () => clearInterval(id)
}

const every = (delay, action) => [interval, { delay, action }]

/// Html

const main = (...children) => h("a", {}, children)
const title = (title) => h("span", {}, text(title))


/// Main

const resetState = { count: 18000 }
const countdown = (state) => ({ count: state.count - 1 })


const Tick = (state) =>
  state.count === 0
    ? { ...state, ...resetState, ...toggle(state) }
    : !state.paused
    ? { ...state, ...countdown(state) }
    : state

const Reset = (state) => ({ ...state, ...resetState })



app({
  init: {
    ...resetState,
    paused: false,
  },
  view: (state) =>
    main(
      title(`${humanizeTime(state.count)}`)
    ),
  subscriptions: () => [every(1000, Tick)],
  node: document.getElementById("timer"),
})

    </script>
  </head>
  <body>
    <div class="ha">
      <h5><a href="https://github.com/hyperapp/hyperapp">HYPERAPP</a></h5>
      <h1>Examples</h1>

      <a class="button button-primary" href="/link">
        RMAP
      </a>
      <a id="timer" class="button" href="/link"></a>
<p>
  <main id="app"></main>
  <ul>
    <!-- ${routes.map(name => html` $load all example modules here -->
    <li>
    <a href="${name}">
    <!-- ${name.toUpperCase()} $load all example modules here -->
    </a>
    </li>
  </ul>
</p>
      <small>
        <hr />
        madew/<a href="https://github.com/hyperapp/hyperapp/blob/master/LICENSE"
          >github.com/jorgebucaran/hyperapp</a
        >
      </small>

      <div class="gh-btns">
        <span
          ><div class="widget">
            <a class="btn" href="/LICs" rel="noopener" target="_blank"
              ><span>LIC</span></a
            >
          </div></span
        >
        <!--             <span><div class="widget"><a class="btn" href="/LICs" rel="noopener" target="_blank"><svg viewBox="0 0 16 16" width="14" height="14" class="octicon octicon-star" aria-hidden="true"><path fill-rule="evenodd" d="M8 .25a.75.75 0 01.673.418l1.882 3.815 4.21.612a.75.75 0 01.416 1.279l-3.046 2.97.719 4.192a.75.75 0 01-1.088.791L8 12.347l-3.766 1.98a.75.75 0 01-1.088-.79l.72-4.194L.818 6.374a.75.75 0 01.416-1.28l4.21-.611L7.327.668A.75.75 0 018 .25zm0 2.445L6.615 5.5a.75.75 0 01-.564.41l-3.097.45 2.24 2.184a.75.75 0 01.216.664l-.528 3.084 2.769-1.456a.75.75 0 01.698 0l2.77 1.456-.53-3.084a.75.75 0 01.216-.664l2.24-2.183-3.096-.45a.75.75 0 01-.564-.41L8 2.694v.001z"></path></svg>&nbsp;<span>Star</span></a></div></span> -->
        <span
          ><div class="widget">
            <a class="btn" href="/CREDITs" rel="noopener" target="_blank"
              ><span>Credits</span></a
            >
          </div></span
        >
      </div>
    </div>
  </body>
</html>
